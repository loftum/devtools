<html lang="en" style="overflow: scroll;">
<head>
    <title>Vnet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script defer src="alpine.min.js"></script>
    <script defer src="ip-range.js"></script>
    <style>
        :root {
            font-family: "Arial",serif;
            margin: 0;
            padding: 0;
        }
        html,
        body {
            margin: 5px;
            padding: 5px;
            box-sizing: border-box;
            top:0;
            right:0;
            bottom:0;
            left:0;
        }
        
        html {
            background: pink;
        }
        
        ip-range {
            border-radius: 5px;
            padding: 3px;
            border: 1px solid gray;
            background: white;
        }
        
    </style>
</head>
<body style="display: flex; flex-direction: column; align-items: stretch; align-content: stretch; justify-content: space-evenly;">
    
    <ip-range cidr="0.0.0.0/0" name="all">
        
    </ip-range>
</body>
<script>
(function() {
    
    const body = document.getElementsByTagName("body")[0];
    zoomer(body);
    
    function zoomer(body) {
        const isMac = window.navigator.userAgent.indexOf("Mac") !== -1;

        let metaPressed = false;

        document.addEventListener("keydown", function(e) {
            console.log(e.key);
            metaPressed = isMac ? e.metaKey : e.ctrlKey;

            if (!metaPressed) {
                return;
            }

            switch(e.key){
                case "0":
                    e.preventDefault();
                    resetZoom();
                    break;
                case "+":
                    e.preventDefault();
                    zoomIn();
                    break;
                case "-":
                    e.preventDefault();
                    zoomOut();
                    break;
            }

        });

        document.addEventListener("keyup", function(e) {
            if (isMac && e.key === "Meta") {
                metaPressed = false;
            }
            else if (e.key === "Control"){
                metaPressed = false;
            }
        });

        let zoom = 1;
        const speed = .015;

        document.addEventListener("wheel", function(e) {
            if (!metaPressed){
                return;
            }
            if (e.deltaY < 0) {
                e.preventDefault();
                zoomIn();
            }
            else {
                e.preventDefault();
                zoomOut();
            }
        });
        
        function resetZoom() {
            body.style.transform = "";
        }
        
        function zoomIn() {
            if (zoom >= 2){
                return;
            }
            zoom += speed;
            body.style.transform = `scale(${zoom})`;
        }
        
        function zoomOut() {
            if (zoom <= .1){
                return;
            }
            zoom -= speed;
            body.style.transform = `scale(${zoom})`;
        }
        
    }
})();
</script>
</html>